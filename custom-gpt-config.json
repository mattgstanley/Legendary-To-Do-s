{
  "name": "Legendary Homes Jobsite Task Manager",
  "description": "Converts voice/text input into structured construction tasks and manages them in Google Sheets",
  "instructions": "Legendary Homes construction task manager. Parse natural language into tasks.\n\nFUNCTIONS: Parse tasks (Project, Area, Trade, Title, Details, Assigned To, Priority, Due Date, Photo). Process multiple tasks in one input - auto-save 3+. Inference: tile→Tile, urgent→High. Auto-create project tabs. DELETE BY NAME: Use delete_task_by_name. Multiple matches→show for confirmation. One match→confirm. User confirms taskId or 'delete all'.\n\nBEHAVIOR: Conversational, efficient. Single task→preview. Multiple→save all. Delete→show matches first.\n\nGREET: \"Welcome! I manage construction tasks. Try: 'Grandin project, kitchen tile work, assign to Tile, due Friday' | 'Delete Fix kitchen sink' | 'Delete last 3 tasks' | 'Show all tasks for Grandin'. What do you need?\"",
  "model": "gpt-4",
  "temperature": 0.3,
  "actions": [
    {
      "name": "add_task_to_sheets",
      "description": "Adds a task to Master Tasks and project tab",
      "parameters": {
        "type": "object",
        "properties": {
          "project": {"type": "string", "description": "Project name"},
          "area": {"type": "string", "description": "Area"},
          "trade": {"type": "string", "description": "Trade"},
          "taskTitle": {"type": "string", "description": "Task title"},
          "taskDetails": {"type": "string", "description": "Details"},
          "assignedTo": {"type": "string", "description": "Assigned to"},
          "priority": {"type": "string", "enum": ["Low", "Medium", "High", "Urgent"], "description": "Priority"},
          "dueDate": {"type": "string", "description": "Due date YYYY-MM-DD"},
          "photoNeeded": {"type": "boolean", "description": "Photo needed"}
        },
        "required": ["project", "taskTitle", "trade", "assignedTo"]
      }
    },
    {
      "name": "get_tasks",
      "description": "Gets tasks filtered by project, trade, assignedTo, or status",
      "parameters": {
        "type": "object",
        "properties": {
          "project": {"type": "string", "description": "Filter by project"},
          "trade": {"type": "string", "description": "Filter by trade"},
          "assignedTo": {"type": "string", "description": "Filter by assigned"},
          "status": {"type": "string", "enum": ["Open", "In Progress", "Completed"], "description": "Filter by status"}
        }
      }
    },
    {
      "name": "create_project_tab",
      "description": "Creates a project tab",
      "parameters": {
        "type": "object",
        "properties": {
          "projectName": {"type": "string", "description": "Project name"}
        },
        "required": ["projectName"]
      }
    },
    {
      "name": "get_subcontractor_tasks",
      "description": "Gets open tasks for a subcontractor/trade",
      "parameters": {
        "type": "object",
        "properties": {
          "assignedTo": {"type": "string", "description": "Subcontractor/trade"}
        },
        "required": ["assignedTo"]
      }
    },
    {
      "name": "delete_task",
      "description": "Deletes a task by taskId from Master Tasks and project tab",
      "parameters": {
        "type": "object",
        "properties": {
          "taskId": {"type": "string", "description": "Task ID (timestamp)"}
        },
        "required": ["taskId"]
      }
    },
    {
      "name": "delete_tasks",
      "description": "Deletes multiple tasks by filters, lastN, or taskIds",
      "parameters": {
        "type": "object",
        "properties": {
          "filters": {
            "type": "object",
            "description": "Filters: project, trade, assignedTo, status",
            "properties": {
              "project": {"type": "string", "description": "Filter by project"},
              "trade": {"type": "string", "description": "Filter by trade"},
              "assignedTo": {"type": "string", "description": "Filter by assigned"},
              "status": {"type": "string", "enum": ["Open", "In Progress", "Completed"], "description": "Filter by status"}
            }
          },
          "lastN": {"type": "number", "description": "Delete last N tasks"},
          "taskIds": {"type": "array", "items": {"type": "string"}, "description": "Task IDs to delete"}
        }
      }
    },
    {
      "name": "find_tasks_by_name",
      "description": "Finds tasks by name with fuzzy matching, sorted by relevance",
      "parameters": {
        "type": "object",
        "properties": {
          "taskName": {"type": "string", "description": "Task name to search"},
          "limit": {"type": "number", "description": "Max results", "default": 10}
        },
        "required": ["taskName"]
      }
    },
    {
      "name": "delete_task_by_name",
      "description": "Deletes task by name. Multiple matches→show for confirmation. One match→confirm. Use taskId to confirm specific task or deleteAll=true for all.",
      "parameters": {
        "type": "object",
        "properties": {
          "taskName": {"type": "string", "description": "Task name to delete"},
          "taskId": {"type": "string", "description": "TaskId to confirm deletion"},
          "deleteAll": {"type": "boolean", "description": "Delete all matches", "default": false}
        },
        "required": ["taskName"]
      }
    }
  ],
  "capabilities": {
    "code_interpreter": false,
    "web_browsing": false,
    "function_calling": true
  },
  "conversation_starters": [
    "Add task: Grandin project, kitchen tile work, assign to Tile, due Friday",
    "Show all tasks for Masonry",
    "Delete Fix kitchen sink",
    "Delete last 3 tasks"
  ]
}

